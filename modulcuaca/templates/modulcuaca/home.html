{% load static from staticfiles %}
<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <title>Welcome To Defi's Web</title>
  <meta name="keywords" content="">
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width">

  <meta property="og:title" content="">
	<meta property="og:type" content="website">
	<meta property="og:url" content="">
	<meta property="og:site_name" content="">
	<meta property="og:description" content="">

  <!-- Styles -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.10/c3.min.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="{% static 'css/font-awesome.min.css' %}">
  <link rel="stylesheet" href="{% static 'css/animate.css' %}">
  <link href='http://fonts.googleapis.com/css?family=Dr+Sugiyama|Lato:400,100,100italic,300,300italic,400italic,700,700italic,900,900italic' rel='stylesheet' type='text/css'>


  <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
  <link rel="stylesheet" href="{% static 'css/main.css' %}">

  <script src="{% static 'js/modernizer-2.7.1.js' %}"></script>

  <!-- Fav and touch icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="{% static 'apple-touch-icon-144-precomposed.png' %}">
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="{% static 'apple-touch-icon-114-precomposed.png' %}">
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="{% static 'apple-touch-icon-72-precomposed.png' %}">
  <link rel="apple-touch-icon-precomposed" href="{% static 'apple-touch-icon-57-precomposed.png' %}">
  <link rel="shortcut icon" href="{% static 'favicon.ico' %}">
</head>

<body>

    <div class="navbar navbar-inverse navbar-static-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="index.html"><img src="{% static 'img/logo.png' %}" alt="Logo"></a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="index.html">Home</a></li>
            <li><a href="#about">About</a></li>
            <li><a href="#contact">Contact</a></li>
          </ul>
        </div><!--/.navbar-collapse -->
      </div>
    </div>

    <!--Header-->
    <section id="header">
      <div class="container">
        <div class="row header-text">
          <div class="col-sm-8 pull-right text-right">
           <div class="margin-100">
            <h1>Real Time Temperature Control,</h1>
            <h3>An IoT Project. Oh yeah, it's <strong><em>My Tugas Akhir</em></strong> too!</h3>
           </div>
            <a href="#" class="btn btn-primary btn-lg">Get the notif via Whatsapp! <i class="fa fa-cloud-download"></i></a>
          </div>
        </div>



        <div class="row">
          <div class="col-sm-4 text-center wow fadeInUp">
            <img class="header-img" src="{% static 'img/header1.png' %}" alt="Header Image">
          </div>
        </div>

      </div>
    </section>

    <section id="detailcontrol">
      <div class="container">
        <div class="row">
          <div class="col-sm-14 text-center">
            <h2 class="blue" style="margin-bottom:60px;">Detail</h2>
          </div>
          </div>
         </div>
        <div class="centerDiv">
            <div class="div1" style="text-align:center;">
                <blockquote>
                    Suhu saat ini : <div class="refresh" style="font-weight: bold;"></div>
                    Suhu terendah : <div class="suhu_min" style="font-weight: bold;"></div>
                    Suhu tertinggi : <div class="suhu_max" style="font-weight: bold;"></div>
                </blockquote>
            </div>
            <div class="div1" style="text-align:center;">
                <blockquote>
                    Kelembaban saat ini : <div class="kelembaban" style="font-weight: bold;"></div>
                    Kelembaban terendah : <div class="kelembaban_min" style="font-weight: bold;"></div>
                    Kelembaban tertinggi : <div class="kelembaban_max" style="font-weight: bold;"></div>
                </blockquote>
            </div>
            <div class="div1" style="text-align:center;">
                <blockquote>
                    Tekanan Udara saat ini : <div class="tekanan" style="font-weight: bold;"></div>
                    Tekanan Udara terendah : <div class="tekanan_min" style="font-weight: bold;"></div>
                    Tekanan Udara tertinggi : <div class="tekanan_max" style="font-weight: bold;"></div>
                </blockquote>
            </div>
        </div>
    </section>

    <section id="spedometer" style="padding:25px 0px;">
      <div class="container">
        <div class="row">
          <div class="col-sm-14 text-center">
            <h2 class="white" style="margin-bottom:60px;">Temperature Control</h2>
          </div>
          </div>
         </div>
    	<div class="centerDiv" style="height:23px;">
    		<div class="div1" style="text-align:center;" style="font-weight: bold;">
    		    Suhu
    		</div>
    		<div class="div2" style="text-align:center;" style="font-weight: bold;">
    		    Kelembaban
    		</div>
    		<div class="div3" style="text-align:center;" style="font-weight: bold;">
    		    Tekanan Udara
    		</div>
    	</div>
    	<div class="centerDiv">
    		<div class="div1" id="chart1">
    		    Suhu
    		</div>
    		<div class="div2" id="chart2">
    		    Kelembaban
    		</div>
    		<div class="div3" id="chart3">
    		    Tekanan Udara
    		</div>
    	</div>
    	<div class="centerDiv" style="height:5px;">
    		<div class="div1" style="text-align:center;" style="font-weight: bold;">
    		    Spesification is 25 °C (±) 2 °C
    		</div>
    		<div class="div2" style="text-align:center;">
    		    Spesification is 65% (±) 10%
    		</div>
    		<div class="div3">
    		</div>
    	</div>
    </section>

    <!--Main 1-->
    <section id="main1">
      <div class="container">
        <div class="row">
          <div class="col-sm-6 margin-30">
            <h2>Pengiriman Data Real Time</h2><br />
            <p>Web ini menampilkan visualisasi data dari temperature, pressure dan humidity yang dikirim oleh Raspberry Pi secara online. Data yang ditampilkan melalui penyimpanan data di database MySQL terlebih dahulu.</p><br />
            <blockquote>
              Web ini di develop menggunakan bahasa pemrograman python versi 3.6 dengan framework Django.
            </blockquote>
            <br />
            <a href="#" class="btn btn-secondary btn-lg">Say Hello <i class="fa fa-envelope"></i></a>
          </div>

          <div class="col-sm-6 wow fadeInUpBig">
            <img class="main1-img img-responsive pull-right" src="{% static 'img/main1.png' %}" alt="Main1 Image">
          </div>
        </div>
      </div>
    </section>

    <!--Main 2-->
    <section id="main2">
      <div class="container">
        <div class="row">

          <div class="col-sm-6 wow fadeInUpBig">
            <img class="main2-img pull-left" src="{% static 'img/main2.png' %}" alt="Main2 Image">
          </div>

          <div class="col-sm-6 margin-30">
            <h2>Full Responsive Web</h2><br />
            <p>Website ini sudah full responsive atau support terhadap device-device seperti handphone, desktop pc, tablet. </p><br />

            <br />
            <a href="#" class="btn btn-secondary btn-lg">View On Dribbble <i class="fa fa-dribbble"></i></a>
          </div>

        </div>
      </div>
    </section>

    <!--Message-->
    <section id="message">
      <div class="container">
        <div class="row">
          <div class="col-sm-12 text-center">
            <h2 class="white">Akhir Kata</h2>
            <a href="#" class="btn btn-primary btn-lg">Let's enjoy my Tugas Akhir <i class="fa fa-beer"></i></a>
          </div>
        </div>
      </div>
    </section>


    <!--Bottom-->
    <section id="bottom">
      <div class="container">

        <div class="row margin-40">
          <div class="col-sm-12 text-center">
            <ul class="list-inline social">
              <li class="wow slideInLeft" data-wow-delay="0.3s"><a href="#"><i class="fa fa-dribbble fa-2x"></i></a></li>
              <li class="wow slideInLeft" ><a href="#"><i class="fa fa-facebook fa-2x"></i></a></li>
              <li class="wow slideInRight" ><a href="#"><i class="fa fa-twitter fa-2x"></i></a></li>
              <li class="wow slideInRight" data-wow-delay="0.3s"><a href="#"><i class="fa fa-github fa-2x"></i></a></li>
            </ul>
          </div>
        </div>

        <div class="row">
          <div class="col-sm-12 text-center">
            <p><strong><em>Join the newsletter</em></strong></p>
            <form class="form-inline" role="form">
              <div class="form-group">
                <label class="sr-only" for="exampleInputEmail2">Email address</label>
                <input type="email" class="form-control" id="exampleInputEmail2" placeholder="Enter email">
              </div>
              <button type="submit" class="btn btn-secondary btn-lg">Sign in</button>
            </form>
          </div>
        </div>

      </div>
    </section>

    <footer>
      <div class="container">
        <div class="row">
          <div class="col-sm-12 text-center">
            <p><small>Copyright &copy; Perth. All rights reserved.</small></p>
          </div>
        </div>
      </div>
    </footer>

    <!-- Javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>
    <script>window.jQuery || document.write('<script src="{% static "js/jquery-2.1.0.min.js" %}"><\/script>')</script>
    <script src="{% static 'js/bootstrap.min.js' %}"></script>
    <script src="{% static 'js/wow.min.js' %}"></script>
    <script src="{% static 'js/main.js' %}"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.16/d3.min.js" charset="utf-8"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.10/c3.min.js"></script>

    <script>
      new WOW().init();
    </script>

    <script type="text/javascript">
    $(document).ready(function() {
        loadData();
        loadDataHum();
        loadDataPress();
    });

    //---------------- CHART SPEDOMETER SUHU ---------------------
    var gaugeData = {'data': 0.0}
    var chart = c3.generate({
        bindto: '#chart1',
        data: {
            json: gaugeData,
            type: 'gauge',
        },
        gauge: {
            label:{
                //returning the value here and not the ratio
                format: function(value, ratio){ return value;}
            },
            min: 0,
            max: 100,
            width: 15,
            units: 'Temperature' //this is only the text for the label
        },
        color: {
            pattern: ['#60B044', '#F6C600', '#F97600', '#FF0000' ], // the three color levels for the percentage values.
            threshold: {
                values: [30, 60, 90, 100]
            }
        },
        size: {
            height: 180
        }
    });
    // ------- END OF CHART SPEDOMETER SUHU ---------
    //---------------- CHART SPEDOMETER KELEMBABAN ---------------------
    var chart2 = c3.generate({
        bindto: '#chart2',
        data: {
            json: gaugeData,
            type: 'gauge',
        },
        gauge: {
            label:{
                //returning the value here and not the ratio
                format: function(value, ratio){ return value;}
            },
            min: 0,
            max: 100,
            width: 15,
            units: 'Humidity' //this is only the text for the label
        },
        color: {
            pattern: ['#60B044', '#F6C600', '#F97600', '#FF0000' ], // the three color levels for the percentage values.
            threshold: {
                values: [30, 60, 90, 100]
            }
        },
        size: {
            height: 180
        }
    });
    //---------------- CHART SPEDOMETER TEKANAN UDARA ---------------------
    var chart3 = c3.generate({
        bindto: '#chart3',
        data: {
            json: gaugeData,
            type: 'gauge',
        },
        gauge: {
            label:{
                //returning the value here and not the ratio
                format: function(value, ratio){ return value;}
            },
            min: 0,
            max: 2000,
            width: 15,
            units: 'Pressure' //this is only the text for the label
        },
        color: {
            pattern: ['#60B044', '#F6C600', '#F97600', '#FF0000' ], // the three color levels for the percentage values.
            threshold: {
                values: [30, 60, 90, 100]
            }
        },
        size: {
            height: 180
        }
    });

    var loadData = function() {
        $.ajax({
            type: "GET",
            url: "api-suhu/",
            dataType: "json",
            success: function(response) {
                var newData = {'data': response[0].temp_value };
                $(".refresh").html(response[0].temp_value);
                $(".suhu_min").html(response[0].temp_min.nilai_suhu__min);
                $(".suhu_max").html(response[0].temp_max.nilai_suhu__max);
                chart.load({
                  json: newData
                });
                setTimeout(loadData, 500);
            }
        });
    };

    var loadDataHum = function() {
        $.ajax({
            type: "GET",
            url: "api-kelembaban/",
            dataType: "json",
            success: function(response) {
                var newData = {'data': response[0].hum_value };
                $(".kelembaban").html(response[0].hum_value);
                $(".kelembaban_min").html(response[0].hum_min.nilai_kelembaban__min);
                $(".kelembaban_max").html(response[0].hum_max.nilai_kelembaban__max);
                chart2.load({
                  json: newData
                });
                setTimeout(loadDataHum, 500);
            }
        });
    };

    var loadDataPress = function() {
        $.ajax({
            type: "GET",
            url: "api-tekananudara/",
            dataType: "json",
            success: function(response) {
                var newData = {'data': response[0].press_value };
                $(".tekanan").html(response[0].press_value);
                $(".tekanan_min").html(response[0].press_min.nilai_tekananudara__min);
                $(".tekanan_max").html(response[0].press_max.nilai_tekananudara__max);
                chart3.load({
                  json: newData
                });
                setTimeout(loadDataPress, 500);
            }
        });
    };

    </script>

    </body>
</html>